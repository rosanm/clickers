<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Clickers</title>

        <meta name="description" content="Game">
        <meta name="author" content="Leo en Rosan van Essen">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link rel="icon" type="image/ico" href="images/smile.ico">
        <link rel="stylesheet" href="content/bootstrap.css">
        <link rel="stylesheet" href="content/main.css">
        <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="content/jquery-ui.css">
        
        <script src="scripts/jquery.min.js"></script>
        <script src="scripts/jquery-ui-1.12.1/jquery-ui.min.js"></script>
        <script src='scripts/ractive.js'></script>
        <script src="scripts/controllers/setupController.js"></script>
      
    </head>

    <body>

        <div id="container" class="main-container">
            <script id="template" class="section-left-top" type='text/ractive'>
            <div class="section-left">
                <div class="section-left-top" type='text/ractive'>
                    <div class="boxHeader" style="text-align: center;">
                        STATS
                    </div>
                    <div class="top_left_padding">
                        <div id="unitcounter"><p> <i class="diamondIcon fa fa-diamond fa-lg"></i>{{units}}</p></div>
                        <div id="unitpersec"><p> <i class="diamondIcon fa fa-flash fa-lg"></i>{{dps}} DPS</p></div>
                        <div id="currentLvl">{{level}} Kills</div>
                    </div>
                </div>

                <div class="monster-box">
                    <div class="boxHeader" style="text-align: center;">
                        ATTACK
                    </div>
                    <div class="monster-box-enemy" >
                        {{#if doorSet}}
                            <img class="doorSet" src={{door}} width="100%">
                        {{else}}
                            <img class="enemySet" src={{currentEnemy.img}} width="100%">
                        {{/if}}
                    </div>
                    <div id="progresscontainer" style="text-align: center; display: none;">
                        <progress max="100" value="80">
                            <div class="progress-bar">
                                <span id="hp-progress"></span>
                            </div>
                            </progress>                                            
                    </div>
                        {{currentEnemy.name}}
                        <br/>
                        <fieldset>
                                    <label for="radio-1">Attack!</label>
                                    <input type="radio" name="radio-1" id="radio-1" checked="{{attack}}">
                                    <label for="radio-2">Mine</label>
                                    <input type="radio" name="radio-1" id="radio-2" checked="{{mine}}">
                         </fieldset>
                </div>

            </div>              
            <div class="section-center">
                <div class="boxHeader">FRIENDS</div>
                    <div class="flex-container">  
                                        <div class="box">            
                        <div id="sortable" class="theZoo">
                            {{#friends}}
                                <div class="flex-container">
                                    <div class="MonsterCard section-monstercard {{ count ? '0' : 'disabled' }}" friendName="{{name}}">
                                        <div class="boxHeader">{{name}}</div>
                                        <img src="{{img}}" class="friendImg">
                                        <p>Stage: {{stage}} Lvl: {{lvl}}</p>


                                        <div class="count_label">{{count}}x</div>
                                        <div class="clear">
                                            <button style="margin-left:5px;" class="button-upgrade" on-click="@this.fire('trainFriend', event, @index)" disabled="{{ price > units }}">Train</button>
                                            <button class="button-buy" on-click="@this.fire('trainFriend', event, @index)" disabled="{{ price > units }}">&nbsp;Buy&nbsp;</button> 
                                        </div>
                                        <div class="arrow-right"></div>
                                    </div>
                                    {{#if selectedFriendName == name}}
                                    <div class="hoverBox section-monstercard">
                                        <div>
                                            <div>Each <span>{{name}}</span> deals <span>{{dmg}}</span> damage per second.</div>
                                            <div><span>{{count}}</span> {{name}} deal <span>{{dmg*count}}</span> dps. (<span>{{round(((dmg*count)/dps)*100)}}%</span>)</div>
                                            <div>In total they dealt <span>{{lifeTimeDmg}}</span> dmg.</div>
                                            <div>&nbsp;</div>
                                            <div>Train to lvl <span>{{lvl+1}}</span> for +<span>{{round(dmg*0.2)}}</span> dmg. For <span>{{price}}</span> diamonds.</div>                                                     
                                        </div>
                                    </div>
                                    {{/if}}
                                </div>
                            {{/friends}}

                        </div>
                    </div>
                </div>
            </div>

            <div class="section-right">
                <div class="boxHeader">  {{selectedFriendName}}'S ITEMS</div>
                <div id="items-box">
                    {{#if isFriendAvailable(selectedFriendName)}}
                        {{#items}}
                            <div class="item-field">
                                <img class="item-image" src="{{img}}"/>
                                <div>{{name}}</div>
                                <div class="button-box">
                                    {{#if lvl == 0}}
                                        <button class="button-buy" on-click="@this.fire('buyOrUpgrade', event, @index)" disabled="{{ price > units }}">Buy</button>
                                    {{else}}
                                        <button class="button-upgrade" on-click="@this.fire('buyOrUpgrade', event, @index)" disabled="{{ price > units }}">Upgrade</button>                                
                                    {{/if}}
                                    <p class="text">price: {{price}} <span>dmg: {{dmg}}</span></p>                            
                                </div>
                            </div>
                        {{/items}}
                    {{/if}}
                </div>
            </div>
        </script>
    </body>

</html>


